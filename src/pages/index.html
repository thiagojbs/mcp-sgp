<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SGP MCP Server - Documentação e Playground</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' fill='%238B5CF6'/><path d='M35 50h30M50 35v30' stroke='white' stroke-width='6' stroke-linecap='round'/></svg>">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #8B5CF6;
      --primary-light: #A78BFA;
      --primary-dark: #7C3AED;
      --primary-bg: rgba(139, 92, 246, 0.06);
      --secondary: #1a1a2e;
      --accent: #F97316;
      --accent-light: #FB923C;
      --bg: #FAFAFA;
      --bg-white: #FFFFFF;
      --card-bg: #FFFFFF;
      --text: #1F2937;
      --text-secondary: #4B5563;
      --text-muted: #6B7280;
      --success: #10B981;
      --success-bg: rgba(16, 185, 129, 0.08);
      --error: #EF4444;
      --error-bg: rgba(239, 68, 68, 0.08);
      --warning: #F59E0B;
      --border: #E5E7EB;
      --border-light: #F3F4F6;
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.04);
      --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.08), 0 1px 2px -1px rgba(0, 0, 0, 0.08);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -2px rgba(0, 0, 0, 0.08);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.08), 0 4px 6px -4px rgba(0, 0, 0, 0.08);
      --radius: 10px;
      --radius-sm: 6px;
      --radius-lg: 12px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.5;
      font-size: 14px;
    }

    .container {
      max-width: 1140px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* SVG Icon System */
    .icon {
      width: 18px;
      height: 18px;
      stroke: currentColor;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
      fill: none;
      flex-shrink: 0;
    }

    .icon-sm { width: 14px; height: 14px; }
    .icon-lg { width: 22px; height: 22px; }

    /* Header - Compact */
    header {
      background: var(--bg-white);
      border-bottom: 1px solid var(--border);
      padding: 12px 0;
      position: sticky;
      top: 0;
      z-index: 100;
      backdrop-filter: blur(8px);
      background: rgba(255, 255, 255, 0.95);
    }

    .header-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .logo {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      background: var(--primary);
      border-radius: var(--radius-sm);
      color: white;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .logo:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
    }

    .logo svg {
      width: 20px;
      height: 20px;
    }

    .header-text h1 {
      font-size: 1.125rem;
      font-weight: 700;
      color: var(--text);
      letter-spacing: -0.02em;
    }

    .header-text h1 span {
      color: var(--primary);
    }

    .header-text p {
      color: var(--text-muted);
      font-size: 0.75rem;
    }

    .status-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      background: var(--success-bg);
      border-radius: 20px;
      color: var(--success);
      font-size: 0.75rem;
      font-weight: 500;
      transition: transform 0.2s ease;
    }

    .status-badge:hover {
      transform: scale(1.02);
    }

    .status-dot {
      width: 6px;
      height: 6px;
      background: var(--success);
      border-radius: 50%;
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.6; transform: scale(1.2); }
    }

    /* Navigation - Compact */
    nav {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(8px);
      border-bottom: 1px solid var(--border);
      position: sticky;
      top: 60px;
      z-index: 99;
    }

    .nav-links {
      display: flex;
      gap: 4px;
      padding: 10px 0;
      overflow-x: auto;
    }

    .nav-link {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 8px 14px;
      background: transparent;
      border: none;
      border-radius: var(--radius-sm);
      color: var(--text-muted);
      text-decoration: none;
      white-space: nowrap;
      transition: all 0.15s ease;
      cursor: pointer;
      font-weight: 500;
      font-size: 0.8125rem;
    }

    .nav-link:hover {
      background: var(--primary-bg);
      color: var(--primary);
      transform: translateY(-1px);
    }

    .nav-link.active {
      background: var(--primary);
      color: white;
      box-shadow: 0 2px 8px rgba(139, 92, 246, 0.25);
    }

    /* Main - Compact */
    main {
      padding: 24px 0;
      min-height: calc(100vh - 250px);
    }

    section {
      display: none;
      animation: slideIn 0.3s ease;
    }

    section.active {
      display: block;
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateY(8px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(12px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h2 {
      font-size: 1.375rem;
      margin-bottom: 16px;
      color: var(--text);
      font-weight: 700;
      letter-spacing: -0.02em;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    h2 .icon {
      color: var(--primary);
    }

    h3 {
      font-size: 0.9375rem;
      margin: 16px 0 8px;
      color: var(--text);
      font-weight: 600;
    }

    p {
      color: var(--text-secondary);
      font-size: 0.875rem;
    }

    /* Cards - Compact with Animations */
    .card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 20px;
      margin-bottom: 16px;
      box-shadow: var(--shadow-sm);
      transition: all 0.2s ease;
      animation: fadeInUp 0.4s ease backwards;
    }

    .card:hover {
      box-shadow: var(--shadow);
      transform: translateY(-2px);
    }

    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 16px;
      margin-bottom: 24px;
    }

    .card-grid .card:nth-child(1) { animation-delay: 0.1s; }
    .card-grid .card:nth-child(2) { animation-delay: 0.15s; }
    .card-grid .card:nth-child(3) { animation-delay: 0.2s; }

    .stat-card {
      text-align: center;
      padding: 20px;
      border-left: 3px solid var(--primary);
      position: relative;
      overflow: hidden;
    }

    .stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, var(--primary-bg) 0%, transparent 50%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .stat-card:hover::before {
      opacity: 1;
    }

    .stat-card:nth-child(2) {
      border-left-color: var(--success);
    }

    .stat-card:nth-child(2)::before {
      background: linear-gradient(135deg, var(--success-bg) 0%, transparent 50%);
    }

    .stat-card:nth-child(3) {
      border-left-color: var(--accent);
    }

    .stat-card:nth-child(3)::before {
      background: linear-gradient(135deg, rgba(249, 115, 22, 0.06) 0%, transparent 50%);
    }

    .stat-number {
      font-size: 2.25rem;
      font-weight: 700;
      color: var(--primary);
      line-height: 1;
      position: relative;
      transition: transform 0.2s ease;
    }

    .stat-card:hover .stat-number {
      transform: scale(1.05);
    }

    .stat-card:nth-child(2) .stat-number {
      color: var(--success);
    }

    .stat-card:nth-child(3) .stat-number {
      color: var(--accent);
    }

    .stat-label {
      color: var(--text-muted);
      margin-top: 4px;
      font-weight: 500;
      font-size: 0.8125rem;
      position: relative;
    }

    /* Feature list - Compact */
    .feature-list {
      list-style: none;
      margin: 12px 0;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 8px;
    }

    .feature-list li {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      padding: 10px 12px;
      color: var(--text-secondary);
      font-size: 0.8125rem;
      background: var(--bg);
      border-radius: var(--radius-sm);
      transition: all 0.15s ease;
    }

    .feature-list li:hover {
      background: var(--primary-bg);
      transform: translateX(4px);
    }

    .feature-list li::before {
      content: "";
      display: flex;
      align-items: center;
      justify-content: center;
      width: 18px;
      height: 18px;
      background: var(--success);
      border-radius: 50%;
      flex-shrink: 0;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E");
      background-size: 10px;
      background-repeat: no-repeat;
      background-position: center;
    }

    .feature-list li strong {
      color: var(--text);
    }

    /* Code blocks - Compact */
    pre, code {
      font-family: 'JetBrains Mono', 'Fira Code', 'Monaco', 'Consolas', monospace;
      border-radius: var(--radius-sm);
    }

    pre {
      background: #1a1b26;
      padding: 14px;
      overflow-x: auto;
      border: none;
      margin: 12px 0;
      color: #a9b1d6;
      font-size: 0.8125rem;
      line-height: 1.5;
    }

    code {
      background: var(--primary-bg);
      color: var(--primary);
      padding: 2px 6px;
      font-size: 0.8125em;
    }

    pre code {
      background: transparent;
      color: inherit;
      padding: 0;
    }

    .code-block {
      position: relative;
    }

    .copy-btn {
      position: absolute;
      top: 8px;
      right: 8px;
      padding: 4px 10px;
      background: rgba(255, 255, 255, 0.08);
      border: none;
      border-radius: var(--radius-sm);
      color: #a9b1d6;
      cursor: pointer;
      font-size: 0.6875rem;
      transition: all 0.15s ease;
      opacity: 0;
    }

    .code-block:hover .copy-btn {
      opacity: 1;
    }

    .copy-btn:hover {
      background: var(--primary);
      color: white;
    }

    /* Tools list - Compact with Animations */
    .tools-category {
      margin-bottom: 12px;
      border-radius: var(--radius);
      overflow: hidden;
      border: 1px solid var(--border);
      background: var(--card-bg);
      animation: fadeInUp 0.4s ease backwards;
    }

    .tools-category:nth-child(odd) { animation-delay: 0.05s; }
    .tools-category:nth-child(even) { animation-delay: 0.1s; }

    .category-header {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 14px;
      background: var(--bg-white);
      cursor: pointer;
      transition: all 0.15s ease;
      border-left: 3px solid var(--primary);
    }

    .category-header:hover {
      background: var(--primary-bg);
      padding-left: 18px;
    }

    .category-icon {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--primary-bg);
      border-radius: var(--radius-sm);
      color: var(--primary);
      transition: all 0.2s ease;
    }

    .category-header:hover .category-icon {
      background: var(--primary);
      color: white;
      transform: scale(1.05);
    }

    .category-title {
      flex: 1;
      font-weight: 600;
      color: var(--text);
      font-size: 0.875rem;
    }

    .category-count {
      background: var(--text-muted);
      color: white;
      padding: 2px 10px;
      border-radius: 12px;
      font-size: 0.6875rem;
      font-weight: 600;
      transition: all 0.15s ease;
    }

    .category-header:hover .category-count {
      background: var(--primary);
    }

    .tools-list {
      border-top: 1px solid var(--border);
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }

    .tools-list.open {
      max-height: 2000px;
    }

    .tool-item {
      padding: 10px 14px;
      border-bottom: 1px solid var(--border-light);
      cursor: pointer;
      transition: all 0.15s ease;
      margin-left: 3px;
    }

    .tool-item:last-child {
      border-bottom: none;
    }

    .tool-item:hover {
      background: var(--primary-bg);
      margin-left: 0;
      border-left: 3px solid var(--primary);
      padding-left: 17px;
    }

    .tool-name {
      font-family: 'JetBrains Mono', monospace;
      color: var(--primary);
      font-weight: 600;
      font-size: 0.8125rem;
    }

    .tool-desc {
      color: var(--text-muted);
      font-size: 0.75rem;
      margin-top: 2px;
    }

    /* Playground - Compact */
    .playground-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    @media (max-width: 900px) {
      .playground-container {
        grid-template-columns: 1fr;
      }
    }

    .playground-section {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 16px;
    }

    .playground-section h3 {
      margin-top: 0;
      margin-bottom: 14px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--border);
    }

    .form-group {
      margin-bottom: 12px;
    }

    .form-group label {
      display: block;
      margin-bottom: 4px;
      color: var(--text-secondary);
      font-size: 0.75rem;
      font-weight: 500;
    }

    input, select, textarea {
      width: 100%;
      padding: 10px 12px;
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      color: var(--text);
      font-size: 0.8125rem;
      font-family: inherit;
      transition: all 0.15s ease;
    }

    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px var(--primary-bg);
    }

    textarea {
      min-height: 120px;
      font-family: 'JetBrains Mono', monospace;
      resize: vertical;
      font-size: 0.8125rem;
    }

    button {
      padding: 10px 18px;
      background: var(--primary);
      border: none;
      border-radius: var(--radius-sm);
      color: white;
      font-size: 0.8125rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.15s ease;
    }

    button:hover {
      background: var(--primary-dark);
      transform: translateY(-1px);
      box-shadow: var(--shadow-md);
    }

    button:active {
      transform: translateY(0);
    }

    button:disabled {
      background: var(--border);
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .btn-secondary {
      background: var(--bg);
      border: 1px solid var(--border);
      color: var(--text-secondary);
    }

    .btn-secondary:hover {
      background: var(--border-light);
      border-color: var(--primary);
      color: var(--primary);
    }

    .response-area {
      background: #1a1b26;
      border: none;
      border-radius: var(--radius-sm);
      padding: 14px;
      min-height: 200px;
      max-height: 350px;
      overflow: auto;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.75rem;
      white-space: pre-wrap;
      word-break: break-word;
      color: #a9b1d6;
      transition: border-color 0.2s ease;
    }

    .response-success {
      border: 2px solid var(--success);
    }

    .response-error {
      border: 2px solid var(--error);
    }

    /* Endpoints table - Compact */
    .endpoints-table {
      width: 100%;
      border-collapse: collapse;
      margin: 14px 0;
      border-radius: var(--radius);
      overflow: hidden;
      border: 1px solid var(--border);
      font-size: 0.8125rem;
    }

    .endpoints-table th,
    .endpoints-table td {
      padding: 10px 14px;
      text-align: left;
      border-bottom: 1px solid var(--border);
    }

    .endpoints-table th {
      background: var(--bg);
      color: var(--text-muted);
      font-weight: 600;
      font-size: 0.6875rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .endpoints-table tr:last-child td {
      border-bottom: none;
    }

    .endpoints-table tr {
      transition: background 0.15s ease;
    }

    .endpoints-table tr:hover td {
      background: var(--primary-bg);
    }

    .method-badge {
      display: inline-block;
      padding: 3px 8px;
      border-radius: var(--radius-sm);
      font-size: 0.625rem;
      font-weight: 700;
      text-transform: uppercase;
    }

    .method-get { background: var(--success-bg); color: var(--success); }
    .method-post { background: var(--primary-bg); color: var(--primary); }

    /* Footer - Compact */
    footer {
      background: var(--bg-white);
      border-top: 1px solid var(--border);
      padding: 24px 0;
      margin-top: 40px;
      text-align: center;
    }

    footer p {
      color: var(--text-muted);
      font-size: 0.75rem;
    }

    footer a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 500;
      transition: all 0.15s ease;
    }

    footer a:hover {
      color: var(--primary-dark);
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 12px;
    }

    .footer-links a {
      display: flex;
      align-items: center;
      gap: 5px;
      font-size: 0.75rem;
      padding: 6px 12px;
      border-radius: var(--radius-sm);
      transition: all 0.15s ease;
    }

    .footer-links a:hover {
      background: var(--primary-bg);
      transform: translateY(-2px);
    }

    /* Loading spinner */
    .spinner {
      display: inline-block;
      width: 14px;
      height: 14px;
      border: 2px solid rgba(255,255,255,0.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 0.6s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Tabs */
    .tabs {
      display: flex;
      gap: 6px;
      margin-bottom: 14px;
    }

    .tab {
      padding: 8px 14px;
      background: transparent;
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      color: var(--text-muted);
      cursor: pointer;
      font-size: 0.75rem;
      font-weight: 500;
      transition: all 0.15s ease;
    }

    .tab:hover {
      border-color: var(--primary);
      color: var(--primary);
      transform: translateY(-1px);
    }

    .tab.active {
      background: var(--primary);
      border-color: var(--primary);
      color: white;
    }

    /* Info boxes */
    .info-box {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      padding: 12px;
      background: var(--primary-bg);
      border-radius: var(--radius-sm);
      border-left: 3px solid var(--primary);
      margin: 12px 0;
      font-size: 0.8125rem;
    }

    .info-box.warning {
      background: rgba(245, 158, 11, 0.06);
      border-left-color: var(--warning);
    }

    .info-box.success {
      background: var(--success-bg);
      border-left-color: var(--success);
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .header-content {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
      }

      .card-grid {
        grid-template-columns: 1fr;
      }

      .stat-number {
        font-size: 1.75rem;
      }

      .feature-list {
        grid-template-columns: 1fr;
      }
    }

    /* Scrollbar styling */
    ::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }

    ::-webkit-scrollbar-track {
      background: var(--border-light);
      border-radius: 3px;
    }

    ::-webkit-scrollbar-thumb {
      background: var(--border);
      border-radius: 3px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--text-muted);
    }

    /* Stagger animations for lists */
    .stagger-item {
      animation: fadeInUp 0.3s ease backwards;
    }

    .stagger-item:nth-child(1) { animation-delay: 0.05s; }
    .stagger-item:nth-child(2) { animation-delay: 0.1s; }
    .stagger-item:nth-child(3) { animation-delay: 0.15s; }
    .stagger-item:nth-child(4) { animation-delay: 0.2s; }
    .stagger-item:nth-child(5) { animation-delay: 0.25s; }
    .stagger-item:nth-child(6) { animation-delay: 0.3s; }
  </style>
</head>
<body>
  <!-- SVG Icon Definitions -->
  <svg style="display: none;">
    <defs>
      <symbol id="icon-plug" viewBox="0 0 24 24"><path d="M12 2v4M8 6v4M16 6v4M9 10h6M12 14v8M9 10a3 3 0 0 0 6 0"></path></symbol>
      <symbol id="icon-chart" viewBox="0 0 24 24"><path d="M18 20V10M12 20V4M6 20v-6"></path></symbol>
      <symbol id="icon-rocket" viewBox="0 0 24 24"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09zM12 15l-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"></path><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"></path></symbol>
      <symbol id="icon-tool" viewBox="0 0 24 24"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path></symbol>
      <symbol id="icon-flask" viewBox="0 0 24 24"><path d="M9 3h6M10 9V3M14 9V3M9 9h6l3 12H6l3-12z"></path></symbol>
      <symbol id="icon-server" viewBox="0 0 24 24"><rect x="2" y="2" width="20" height="8" rx="2"></rect><rect x="2" y="14" width="20" height="8" rx="2"></rect><path d="M6 6h.01M6 18h.01"></path></symbol>
      <symbol id="icon-users" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"></path></symbol>
      <symbol id="icon-file" viewBox="0 0 24 24"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path><polyline points="14 2 14 8 20 8"></polyline></symbol>
      <symbol id="icon-dollar" viewBox="0 0 24 24"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></symbol>
      <symbol id="icon-ticket" viewBox="0 0 24 24"><path d="M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"></path><path d="M13 5v2M13 17v2M13 11v2"></path></symbol>
      <symbol id="icon-clipboard" viewBox="0 0 24 24"><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></symbol>
      <symbol id="icon-globe" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></symbol>
      <symbol id="icon-box" viewBox="0 0 24 24"><path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"></path><path d="m3.3 7 8.7 5 8.7-5M12 22V12"></path></symbol>
      <symbol id="icon-wifi" viewBox="0 0 24 24"><path d="M5 12.55a11 11 0 0 1 14.08 0M1.42 9a16 16 0 0 1 21.16 0M8.53 16.11a6 6 0 0 1 6.95 0M12 20h.01"></path></symbol>
      <symbol id="icon-bank" viewBox="0 0 24 24"><path d="M3 21h18M3 10h18M5 6l7-3 7 3M4 10v11M20 10v11M8 14v3M12 14v3M16 14v3"></path></symbol>
      <symbol id="icon-scroll" viewBox="0 0 24 24"><path d="M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 0 1-2 2Z"></path><path d="M10 17V5a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a4 4 0 0 0 4 4h12a2 2 0 0 0 2-2v-2"></path></symbol>
      <symbol id="icon-phone" viewBox="0 0 24 24"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></symbol>
      <symbol id="icon-edit" viewBox="0 0 24 24"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z"></path></symbol>
      <symbol id="icon-user" viewBox="0 0 24 24"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></symbol>
      <symbol id="icon-settings" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></symbol>
      <symbol id="icon-more" viewBox="0 0 24 24"><circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle></symbol>
      <symbol id="icon-github" viewBox="0 0 24 24"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></symbol>
      <symbol id="icon-book" viewBox="0 0 24 24"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></symbol>
      <symbol id="icon-link" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></symbol>
      <symbol id="icon-check" viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"></polyline></symbol>
    </defs>
  </svg>

  <header>
    <div class="container">
      <div class="header-content">
        <div class="header-left">
          <div class="logo">
            <svg class="icon"><use href="#icon-plug"></use></svg>
          </div>
          <div class="header-text">
            <h1>SGP <span>MCP Server</span></h1>
            <p>Model Context Protocol para integração com o ERP SGP</p>
          </div>
        </div>
        <div class="status-badge">
          <span class="status-dot"></span>
          <span>Online - Multi-Tenant</span>
        </div>
      </div>
    </div>
  </header>

  <nav>
    <div class="container">
      <div class="nav-links">
        <a class="nav-link active" data-section="overview"><svg class="icon icon-sm"><use href="#icon-chart"></use></svg> Visão Geral</a>
        <a class="nav-link" data-section="quickstart"><svg class="icon icon-sm"><use href="#icon-rocket"></use></svg> Início Rápido</a>
        <a class="nav-link" data-section="tools"><svg class="icon icon-sm"><use href="#icon-tool"></use></svg> Ferramentas</a>
        <a class="nav-link" data-section="playground"><svg class="icon icon-sm"><use href="#icon-flask"></use></svg> Playground</a>
        <a class="nav-link" data-section="api"><svg class="icon icon-sm"><use href="#icon-server"></use></svg> API</a>
      </div>
    </div>
  </nav>

  <main class="container">
    <!-- Overview Section -->
    <section id="overview" class="active">
      <h2><svg class="icon icon-lg"><use href="#icon-chart"></use></svg> Visão Geral</h2>

      <div class="card-grid">
        <div class="card stat-card">
          <div class="stat-number" id="tools-count">215</div>
          <div class="stat-label">Ferramentas Disponíveis</div>
        </div>
        <div class="card stat-card">
          <div class="stat-number">14</div>
          <div class="stat-label">Categorias</div>
        </div>
        <div class="card stat-card">
          <div class="stat-number">∞</div>
          <div class="stat-label">SGPs Suportados</div>
        </div>
      </div>

      <div class="card">
        <h3>O que é o SGP MCP Server?</h3>
        <p>Um servidor MCP (Model Context Protocol) que permite que assistentes de IA, como o Claude, interajam diretamente com o sistema SGP (Sistema de Gestão para Provedores de Internet).</p>

        <h3>Funcionalidades</h3>
        <ul class="feature-list">
          <li><strong>Multi-Tenant:</strong> Suporta múltiplos SGPs - cada usuário configura suas próprias credenciais</li>
          <li><strong>Clientes e Contratos:</strong> Consulta, listagem e detalhes completos</li>
          <li><strong>Financeiro:</strong> Faturas, boletos, remessa/retorno bancário</li>
          <li><strong>Suporte:</strong> CRUD completo de chamados, categorias, prioridades e anexos</li>
          <li><strong>Ordens de Serviço:</strong> CRUD completo, agendamento, técnicos e anexos</li>
          <li><strong>FTTH:</strong> CRUD de ONUs, OLTs, caixas e splitters</li>
          <li><strong>Estoque:</strong> Produtos, movimentações, fornecedores e inventário</li>
          <li><strong>RADIUS:</strong> Usuários, grupos, NAS, sessões e accounting</li>
          <li><strong>Termos de Aceite:</strong> Gestão de termos, versões e aceites de clientes</li>
          <li><strong>URA:</strong> Integração com atendimento telefônico automatizado</li>
          <li><strong>Pré-Cadastros:</strong> Gestão de leads e prospectos</li>
          <li><strong>Central do Assinante:</strong> Portal de autoatendimento para clientes finais</li>
          <li><strong>Outros:</strong> Cidades, estados, CEP, logs, notificações e relatórios</li>
        </ul>
      </div>

      <div class="card">
        <h3>Endpoints</h3>
        <table class="endpoints-table">
          <thead>
            <tr>
              <th>Método</th>
              <th>Endpoint</th>
              <th>Descrição</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><span class="method-badge method-get">GET</span></td>
              <td><code>/</code></td>
              <td>Esta página de documentação</td>
            </tr>
            <tr>
              <td><span class="method-badge method-get">GET</span></td>
              <td><code>/health</code></td>
              <td>Health check (JSON)</td>
            </tr>
            <tr>
              <td><span class="method-badge method-get">GET</span></td>
              <td><code>/tools</code></td>
              <td>Lista todas as ferramentas disponíveis</td>
            </tr>
            <tr>
              <td><span class="method-badge method-get">GET</span></td>
              <td><code>/sse</code></td>
              <td>Endpoint MCP (Server-Sent Events)</td>
            </tr>
            <tr>
              <td><span class="method-badge method-post">POST</span></td>
              <td><code>/mcp</code></td>
              <td>Endpoint MCP (Streamable HTTP)</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Quickstart Section -->
    <section id="quickstart">
      <h2><svg class="icon icon-lg"><use href="#icon-rocket"></use></svg> Início Rápido</h2>

      <div class="card">
        <h3>1. Conectar ao MCP Server</h3>
        <p>Use a URL SSE para conectar seu cliente MCP:</p>
        <div class="code-block">
          <pre>https://mcp-sgp.thiagojbs.workers.dev/sse</pre>
          <button class="copy-btn" onclick="copyToClipboard('https://mcp-sgp.thiagojbs.workers.dev/sse')">Copiar</button>
        </div>
      </div>

      <div class="card">
        <h3>2. Configurar Credenciais do SGP</h3>
        <p>O primeiro passo é sempre configurar o SGP que será usado:</p>
        <div class="code-block">
          <pre>{
  "tool": "sgp_configurar",
  "params": {
    "sgp_url": "https://seuprovedor.sgp.net.br/api",
    "auth_type": "token",
    "token": "SEU_TOKEN_AQUI",
    "app": "NOME_DO_APP"
  }
}</pre>
          <button class="copy-btn" onclick="copyToClipboard(this.previousElementSibling.textContent)">Copiar</button>
        </div>
      </div>

      <div class="card">
        <h3>3. Usar as Ferramentas</h3>
        <p>Após configurar, você pode usar qualquer ferramenta. Exemplo:</p>
        <div class="code-block">
          <pre>// Consultar um cliente por CPF
{
  "tool": "sgp_consultar_cliente",
  "params": {
    "cpfcnpj": "12345678900"
  }
}

// Listar faturas em aberto
{
  "tool": "sgp_listar_faturas",
  "params": {
    "status": "aberta"
  }
}

// Abrir um chamado
{
  "tool": "sgp_abrir_chamado",
  "params": {
    "cliente_id": 123,
    "categoria_id": 1,
    "titulo": "Problema de conexão",
    "descricao": "Cliente sem internet desde ontem"
  }
}</pre>
        </div>
      </div>

      <div class="card">
        <h3>Configuração no Claude Desktop</h3>
        <p>Adicione ao arquivo <code>claude_desktop_config.json</code>:</p>
        <div class="code-block">
          <pre>{
  "mcpServers": {
    "sgp": {
      "command": "npx",
      "args": [
        "mcp-remote",
        "https://mcp-sgp.thiagojbs.workers.dev/sse"
      ]
    }
  }
}</pre>
          <button class="copy-btn" onclick="copyToClipboard(this.previousElementSibling.textContent)">Copiar</button>
        </div>
      </div>
    </section>

    <!-- Tools Section -->
    <section id="tools">
      <h2><svg class="icon icon-lg"><use href="#icon-tool"></use></svg> Ferramentas Disponíveis</h2>
      <p style="color: var(--text-muted); margin-bottom: 20px;">Clique em uma categoria para expandir e ver todas as ferramentas.</p>

      <div id="tools-list-container">
        <!-- Será preenchido via JavaScript -->
        <div style="text-align: center; padding: 40px;">
          <div class="spinner"></div>
          <p style="margin-top: 15px; color: var(--text-muted);">Carregando ferramentas...</p>
        </div>
      </div>
    </section>

    <!-- Playground Section -->
    <section id="playground">
      <h2><svg class="icon icon-lg"><use href="#icon-flask"></use></svg> Playground</h2>
      <p style="color: var(--text-muted); margin-bottom: 20px;">Teste as ferramentas do MCP Server diretamente aqui.</p>

      <div class="playground-container">
        <div class="card playground-section">
          <h3>Configuração</h3>

          <div class="form-group">
            <label>URL do SGP</label>
            <input type="text" id="sgp-url" placeholder="https://demo.sgp.net.br/api" value="https://demo.sgp.net.br/api">
          </div>

          <div class="form-group">
            <label>Tipo de Autenticação</label>
            <select id="auth-type">
              <option value="token">Token + App</option>
              <option value="basic">Usuário e Senha</option>
            </select>
          </div>

          <div id="token-auth">
            <div class="form-group">
              <label>Token</label>
              <input type="text" id="sgp-token" placeholder="Seu token de API">
            </div>
            <div class="form-group">
              <label>App</label>
              <input type="text" id="sgp-app" placeholder="Nome do aplicativo">
            </div>
          </div>

          <div id="basic-auth" style="display: none;">
            <div class="form-group">
              <label>Usuário</label>
              <input type="text" id="sgp-username" placeholder="Usuário do SGP">
            </div>
            <div class="form-group">
              <label>Senha</label>
              <input type="password" id="sgp-password" placeholder="Senha">
            </div>
          </div>

          <button id="btn-configure" onclick="configureSGP()">Configurar SGP</button>
        </div>

        <div class="card playground-section">
          <h3>Testar Ferramenta</h3>

          <div class="form-group">
            <label>Ferramenta</label>
            <select id="tool-select">
              <option value="">Selecione uma ferramenta...</option>
            </select>
          </div>

          <div class="form-group">
            <label>Parâmetros (JSON)</label>
            <textarea id="tool-params" placeholder='{"cpfcnpj": "12345678900"}'></textarea>
          </div>

          <div style="display: flex; gap: 10px;">
            <button id="btn-execute" onclick="executeTool()">Executar</button>
            <button class="btn-secondary" onclick="clearResponse()">Limpar</button>
          </div>
        </div>
      </div>

      <div class="card" style="margin-top: 20px;">
        <h3>Resposta</h3>
        <div id="response-area" class="response-area">
          <span style="color: var(--text-muted);">A resposta aparecerá aqui...</span>
        </div>
      </div>
    </section>

    <!-- API Section -->
    <section id="api">
      <h2><svg class="icon icon-lg"><use href="#icon-server"></use></svg> API Reference</h2>

      <div class="card">
        <h3>Autenticação</h3>
        <p>A API do SGP suporta dois métodos de autenticação:</p>

        <h4 style="margin-top: 20px; color: var(--primary);">Token + App (Recomendado)</h4>
        <div class="code-block">
          <pre>GET /api/endpoint?token=SEU_TOKEN&app=NOME_APP</pre>
        </div>

        <h4 style="margin-top: 20px; color: var(--primary);">Basic Authentication</h4>
        <div class="code-block">
          <pre>Authorization: Basic base64(usuario:senha)</pre>
        </div>
      </div>

      <div class="card">
        <h3>Formato de Resposta</h3>
        <p>Todas as respostas seguem o formato:</p>
        <div class="code-block">
          <pre>{
  "status": "success" | "error",
  "message": "Mensagem descritiva",
  "data": { ... }
}</pre>
        </div>
      </div>

      <div class="card">
        <h3>Paginação</h3>
        <p>Endpoints que retornam listas suportam paginação:</p>
        <div class="code-block">
          <pre>?page=1&per_page=20</pre>
        </div>
        <p style="margin-top: 10px; color: var(--text-muted);">Máximo de 100 itens por página.</p>
      </div>

      <div class="card">
        <h3>Rate Limits</h3>
        <table class="endpoints-table">
          <thead>
            <tr>
              <th>Tipo de Autenticação</th>
              <th>Limite</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Token</td>
              <td>300 requisições/minuto</td>
            </tr>
            <tr>
              <td>Basic Auth</td>
              <td>100 requisições/minuto</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <p>SGP MCP Server v1.0.0 | Desenvolvido para provedores de internet</p>
      <p style="margin-top: 6px;">Powered by <a href="https://papervines.digital" target="_blank">Paper Vines Digital</a></p>
      <div class="footer-links">
        <a href="https://github.com/thiagojbs/mcp-sgp" target="_blank"><svg class="icon icon-sm"><use href="#icon-github"></use></svg> GitHub</a>
        <a href="https://doc.papervines.digital" target="_blank"><svg class="icon icon-sm"><use href="#icon-book"></use></svg> Documentação</a>
        <a href="https://documenter.getpostman.com/view/6682240/2sB34hHg2V" target="_blank"><svg class="icon icon-sm"><use href="#icon-link"></use></svg> API SGP</a>
      </div>
    </div>
  </footer>

  <script>
    // Navigation
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', () => {
        document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
        document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
        link.classList.add('active');
        document.getElementById(link.dataset.section).classList.add('active');
      });
    });

    // Auth type toggle
    document.getElementById('auth-type').addEventListener('change', function() {
      document.getElementById('token-auth').style.display = this.value === 'token' ? 'block' : 'none';
      document.getElementById('basic-auth').style.display = this.value === 'basic' ? 'block' : 'none';
    });

    // Copy to clipboard
    function copyToClipboard(text) {
      navigator.clipboard.writeText(text.trim());
      alert('Copiado!');
    }

    // Tools data - using SVG icon IDs
    const toolsData = {
      "Configuração": {
        icon: "settings",
        tools: [
          { name: "sgp_configurar", desc: "Configura as credenciais do SGP (CHAMAR PRIMEIRO)" },
          { name: "sgp_status_conexao", desc: "Verifica status da conexão com o SGP" }
        ]
      },
      "Clientes": {
        icon: "users",
        tools: [
          { name: "sgp_consultar_cliente", desc: "Consulta clientes por CPF/CNPJ, telefone ou nome" },
          { name: "sgp_detalhes_cliente", desc: "Retorna detalhes completos de um cliente" }
        ]
      },
      "Contratos": {
        icon: "file",
        tools: [
          { name: "sgp_listar_contratos", desc: "Lista contratos com filtros" },
          { name: "sgp_detalhes_contrato", desc: "Detalhes de um contrato" },
          { name: "sgp_criar_contrato", desc: "Cria novo contrato" },
          { name: "sgp_atualizar_contrato", desc: "Atualiza contrato" },
          { name: "sgp_suspender_contrato", desc: "Suspende contrato" },
          { name: "sgp_reativar_contrato", desc: "Reativa contrato" },
          { name: "sgp_cancelar_contrato", desc: "Cancela contrato" },
          { name: "sgp_consultar_contrato_resumido", desc: "Consulta rápida via URA" }
        ]
      },
      "Faturas": {
        icon: "dollar",
        tools: [
          { name: "sgp_listar_faturas", desc: "Lista faturas com filtros" },
          { name: "sgp_detalhes_fatura", desc: "Detalhes de uma fatura" },
          { name: "sgp_segunda_via_fatura", desc: "Gera segunda via" },
          { name: "sgp_faturas_contrato", desc: "Faturas de um contrato" },
          { name: "sgp_listar_boletos", desc: "Lista boletos" },
          { name: "sgp_detalhes_boleto", desc: "Detalhes de um boleto" },
          { name: "sgp_gerar_boleto", desc: "Gera novo boleto" },
          { name: "sgp_cancelar_boleto", desc: "Cancela boleto" }
        ]
      },
      "Chamados": {
        icon: "ticket",
        tools: [
          { name: "sgp_listar_chamados", desc: "Lista chamados com filtros" },
          { name: "sgp_detalhes_chamado", desc: "Detalhes de um chamado" },
          { name: "sgp_abrir_chamado", desc: "Abre novo chamado" },
          { name: "sgp_atualizar_chamado", desc: "Atualiza chamado" },
          { name: "sgp_excluir_chamado", desc: "Exclui chamado" },
          { name: "sgp_cancelar_chamado", desc: "Cancela chamado" },
          { name: "sgp_iniciar_atendimento_chamado", desc: "Inicia atendimento" },
          { name: "sgp_interagir_chamado", desc: "Adiciona interação" },
          { name: "sgp_atribuir_chamado", desc: "Atribui a atendente" },
          { name: "sgp_finalizar_chamado", desc: "Finaliza atendimento" },
          { name: "sgp_listar_interacoes_chamado", desc: "Lista interações" },
          { name: "sgp_adicionar_anexo_chamado", desc: "Adiciona anexo" },
          { name: "sgp_listar_anexos_chamado", desc: "Lista anexos" },
          { name: "sgp_remover_anexo_chamado", desc: "Remove anexo" },
          { name: "sgp_listar_categorias_chamado", desc: "Lista categorias" },
          { name: "sgp_cadastrar_categoria_chamado", desc: "Cadastra categoria" },
          { name: "sgp_detalhes_categoria_chamado", desc: "Detalhes categoria" },
          { name: "sgp_atualizar_categoria_chamado", desc: "Atualiza categoria" },
          { name: "sgp_excluir_categoria_chamado", desc: "Exclui categoria" },
          { name: "sgp_listar_prioridades_chamado", desc: "Lista prioridades" },
          { name: "sgp_cadastrar_prioridade_chamado", desc: "Cadastra prioridade" },
          { name: "sgp_detalhes_prioridade_chamado", desc: "Detalhes prioridade" },
          { name: "sgp_atualizar_prioridade_chamado", desc: "Atualiza prioridade" },
          { name: "sgp_excluir_prioridade_chamado", desc: "Exclui prioridade" }
        ]
      },
      "Ordens de Serviço": {
        icon: "clipboard",
        tools: [
          { name: "sgp_listar_ordens_servico", desc: "Lista OS com filtros" },
          { name: "sgp_detalhes_ordem_servico", desc: "Detalhes de uma OS" },
          { name: "sgp_criar_ordem_servico", desc: "Cria nova OS" },
          { name: "sgp_atualizar_ordem_servico", desc: "Atualiza OS" },
          { name: "sgp_excluir_ordem_servico", desc: "Exclui OS" },
          { name: "sgp_cancelar_ordem_servico", desc: "Cancela OS" },
          { name: "sgp_iniciar_ordem_servico", desc: "Inicia execução" },
          { name: "sgp_pausar_ordem_servico", desc: "Pausa execução" },
          { name: "sgp_retomar_ordem_servico", desc: "Retoma execução" },
          { name: "sgp_finalizar_ordem_servico", desc: "Finaliza OS" },
          { name: "sgp_atualizar_status_ordem", desc: "Atualiza status" },
          { name: "sgp_reagendar_ordem", desc: "Reagenda OS" },
          { name: "sgp_transferir_ordem", desc: "Transfere para técnico" },
          { name: "sgp_comentario_ordem", desc: "Adiciona comentário" },
          { name: "sgp_listar_comentarios_ordem", desc: "Lista comentários" },
          { name: "sgp_adicionar_anexo_os", desc: "Adiciona anexo" },
          { name: "sgp_listar_anexos_os", desc: "Lista anexos" },
          { name: "sgp_remover_anexo_os", desc: "Remove anexo" },
          { name: "sgp_listar_tipos_os", desc: "Lista tipos de OS" },
          { name: "sgp_cadastrar_tipo_os", desc: "Cadastra tipo" },
          { name: "sgp_detalhes_tipo_os", desc: "Detalhes tipo" },
          { name: "sgp_atualizar_tipo_os", desc: "Atualiza tipo" },
          { name: "sgp_excluir_tipo_os", desc: "Exclui tipo" },
          { name: "sgp_listar_tecnicos", desc: "Lista técnicos" },
          { name: "sgp_agenda_tecnico", desc: "Agenda de técnico" }
        ]
      },
      "FTTH": {
        icon: "globe",
        tools: [
          { name: "sgp_listar_onus", desc: "Lista ONUs" },
          { name: "sgp_detalhes_onu", desc: "Detalhes de ONU" },
          { name: "sgp_cadastrar_onu", desc: "Cadastra ONU" },
          { name: "sgp_atualizar_onu", desc: "Atualiza ONU" },
          { name: "sgp_excluir_onu", desc: "Exclui ONU" },
          { name: "sgp_provisionar_onu", desc: "Provisiona ONU" },
          { name: "sgp_desprovisionar_onu", desc: "Desprovisiona ONU" },
          { name: "sgp_reiniciar_onu", desc: "Reinicia ONU" },
          { name: "sgp_status_onu", desc: "Status em tempo real" },
          { name: "sgp_listar_olts", desc: "Lista OLTs" },
          { name: "sgp_detalhes_olt", desc: "Detalhes de OLT" },
          { name: "sgp_cadastrar_olt", desc: "Cadastra OLT" },
          { name: "sgp_atualizar_olt", desc: "Atualiza OLT" },
          { name: "sgp_excluir_olt", desc: "Exclui OLT" },
          { name: "sgp_listar_caixas", desc: "Lista caixas" },
          { name: "sgp_detalhes_caixa", desc: "Detalhes de caixa" },
          { name: "sgp_cadastrar_caixa", desc: "Cadastra caixa" },
          { name: "sgp_atualizar_caixa", desc: "Atualiza caixa" },
          { name: "sgp_excluir_caixa", desc: "Exclui caixa" },
          { name: "sgp_listar_splitters", desc: "Lista splitters" },
          { name: "sgp_detalhes_splitter", desc: "Detalhes de splitter" },
          { name: "sgp_cadastrar_splitter", desc: "Cadastra splitter" },
          { name: "sgp_atualizar_splitter", desc: "Atualiza splitter" },
          { name: "sgp_excluir_splitter", desc: "Exclui splitter" }
        ]
      },
      "Estoque": {
        icon: "box",
        tools: [
          { name: "sgp_listar_produtos", desc: "Lista produtos" },
          { name: "sgp_detalhes_produto", desc: "Detalhes de produto" },
          { name: "sgp_cadastrar_produto", desc: "Cadastra produto" },
          { name: "sgp_atualizar_produto", desc: "Atualiza produto" },
          { name: "sgp_excluir_produto", desc: "Exclui produto" },
          { name: "sgp_listar_movimentacoes", desc: "Lista movimentações" },
          { name: "sgp_detalhes_movimentacao", desc: "Detalhes movimentação" },
          { name: "sgp_cadastrar_movimentacao", desc: "Registra entrada/saída" },
          { name: "sgp_cancelar_movimentacao", desc: "Cancela movimentação" },
          { name: "sgp_listar_fornecedores", desc: "Lista fornecedores" },
          { name: "sgp_detalhes_fornecedor", desc: "Detalhes fornecedor" },
          { name: "sgp_cadastrar_fornecedor", desc: "Cadastra fornecedor" },
          { name: "sgp_atualizar_fornecedor", desc: "Atualiza fornecedor" },
          { name: "sgp_excluir_fornecedor", desc: "Exclui fornecedor" },
          { name: "sgp_listar_categorias_estoque", desc: "Lista categorias" },
          { name: "sgp_detalhes_categoria_estoque", desc: "Detalhes categoria" },
          { name: "sgp_cadastrar_categoria_estoque", desc: "Cadastra categoria" },
          { name: "sgp_atualizar_categoria_estoque", desc: "Atualiza categoria" },
          { name: "sgp_excluir_categoria_estoque", desc: "Exclui categoria" },
          { name: "sgp_listar_inventarios", desc: "Lista inventários" },
          { name: "sgp_detalhes_inventario", desc: "Detalhes de inventário" },
          { name: "sgp_iniciar_inventario", desc: "Inicia inventário" },
          { name: "sgp_finalizar_inventario", desc: "Finaliza inventário" },
          { name: "sgp_cancelar_inventario", desc: "Cancela inventário" }
        ]
      },
      "RADIUS": {
        icon: "wifi",
        tools: [
          { name: "sgp_listar_usuarios_radius", desc: "Lista usuários RADIUS" },
          { name: "sgp_detalhes_usuario_radius", desc: "Detalhes de usuário" },
          { name: "sgp_cadastrar_usuario_radius", desc: "Cadastra usuário" },
          { name: "sgp_atualizar_usuario_radius", desc: "Atualiza usuário" },
          { name: "sgp_excluir_usuario_radius", desc: "Exclui usuário" },
          { name: "sgp_bloquear_usuario_radius", desc: "Bloqueia usuário" },
          { name: "sgp_desbloquear_usuario_radius", desc: "Desbloqueia usuário" },
          { name: "sgp_resetar_senha_radius", desc: "Reseta senha" },
          { name: "sgp_listar_sessoes_radius", desc: "Lista sessões" },
          { name: "sgp_detalhes_sessao_radius", desc: "Detalhes de sessão" },
          { name: "sgp_encerrar_sessao_radius", desc: "Encerra sessão" },
          { name: "sgp_listar_grupos_radius", desc: "Lista grupos" },
          { name: "sgp_detalhes_grupo_radius", desc: "Detalhes grupo" },
          { name: "sgp_cadastrar_grupo_radius", desc: "Cadastra grupo" },
          { name: "sgp_atualizar_grupo_radius", desc: "Atualiza grupo" },
          { name: "sgp_excluir_grupo_radius", desc: "Exclui grupo" },
          { name: "sgp_listar_nas", desc: "Lista NAS" },
          { name: "sgp_detalhes_nas", desc: "Detalhes de NAS" },
          { name: "sgp_cadastrar_nas", desc: "Cadastra NAS" },
          { name: "sgp_atualizar_nas", desc: "Atualiza NAS" },
          { name: "sgp_excluir_nas", desc: "Exclui NAS" },
          { name: "sgp_listar_accounting_radius", desc: "Lista accounting" },
          { name: "sgp_detalhes_accounting_radius", desc: "Detalhes accounting" }
        ]
      },
      "Remessa/Retorno": {
        icon: "bank",
        tools: [
          { name: "sgp_gerar_remessa", desc: "Gera arquivo de remessa CNAB" },
          { name: "sgp_listar_remessas", desc: "Lista remessas geradas" },
          { name: "sgp_download_remessa", desc: "Download arquivo remessa" },
          { name: "sgp_processar_retorno", desc: "Processa arquivo de retorno" },
          { name: "sgp_listar_retornos", desc: "Lista retornos processados" },
          { name: "sgp_detalhes_retorno", desc: "Detalhes de retorno" },
          { name: "sgp_listar_boletos_remessa", desc: "Boletos de uma remessa" },
          { name: "sgp_gerar_boleto", desc: "Gera boleto individual" },
          { name: "sgp_detalhes_boleto", desc: "Detalhes de boleto" },
          { name: "sgp_cancelar_boleto", desc: "Cancela boleto" }
        ]
      },
      "Termos de Aceite": {
        icon: "scroll",
        tools: [
          { name: "sgp_listar_termos", desc: "Lista termos de aceite" },
          { name: "sgp_detalhes_termo", desc: "Detalhes de um termo" },
          { name: "sgp_cadastrar_termo", desc: "Cadastra novo termo" },
          { name: "sgp_atualizar_termo", desc: "Atualiza termo" },
          { name: "sgp_excluir_termo", desc: "Exclui termo" },
          { name: "sgp_listar_versoes_termo", desc: "Lista versões de termo" },
          { name: "sgp_detalhes_versao_termo", desc: "Detalhes de versão" },
          { name: "sgp_cadastrar_versao_termo", desc: "Cadastra versão" },
          { name: "sgp_atualizar_versao_termo", desc: "Atualiza versão" },
          { name: "sgp_ativar_versao_termo", desc: "Ativa versão do termo" },
          { name: "sgp_listar_aceites_termo", desc: "Lista aceites de clientes" },
          { name: "sgp_detalhes_aceite_termo", desc: "Detalhes de aceite" },
          { name: "sgp_registrar_aceite_termo", desc: "Registra aceite" },
          { name: "sgp_verificar_aceite_cliente", desc: "Verifica se cliente aceitou" },
          { name: "sgp_revogar_aceite_termo", desc: "Revoga aceite" }
        ]
      },
      "URA": {
        icon: "phone",
        tools: [
          { name: "sgp_ura_consultar_cliente", desc: "Consulta cliente pela URA" },
          { name: "sgp_ura_consultar_contrato", desc: "Consulta contrato pela URA" },
          { name: "sgp_ura_listar_faturas", desc: "Lista faturas pela URA" },
          { name: "sgp_ura_detalhes_fatura", desc: "Detalhes fatura pela URA" },
          { name: "sgp_ura_abrir_chamado", desc: "Abre chamado pela URA" },
          { name: "sgp_ura_consultar_chamado", desc: "Consulta chamado pela URA" },
          { name: "sgp_ura_listar_chamados_cliente", desc: "Lista chamados do cliente" },
          { name: "sgp_ura_registrar_atendimento", desc: "Registra atendimento URA" },
          { name: "sgp_ura_consultar_atendimento", desc: "Consulta atendimento" },
          { name: "sgp_ura_listar_atendimentos_cliente", desc: "Lista atendimentos" },
          { name: "sgp_ura_listar_menu", desc: "Lista menu da URA" },
          { name: "sgp_ura_status_filas", desc: "Status das filas" }
        ]
      },
      "Pré-Cadastros": {
        icon: "edit",
        tools: [
          { name: "sgp_listar_pre_cadastros", desc: "Lista pré-cadastros" },
          { name: "sgp_detalhes_pre_cadastro", desc: "Detalhes de pré-cadastro" },
          { name: "sgp_cadastrar_pre_cadastro", desc: "Cadastra lead/prospecto" },
          { name: "sgp_atualizar_pre_cadastro", desc: "Atualiza pré-cadastro" },
          { name: "sgp_excluir_pre_cadastro", desc: "Exclui pré-cadastro" },
          { name: "sgp_converter_pre_cadastro", desc: "Converte em cliente" },
          { name: "sgp_cancelar_pre_cadastro", desc: "Cancela pré-cadastro" },
          { name: "sgp_listar_origens_pre_cadastro", desc: "Lista origens" },
          { name: "sgp_detalhes_origem_pre_cadastro", desc: "Detalhes origem" },
          { name: "sgp_cadastrar_origem_pre_cadastro", desc: "Cadastra origem" },
          { name: "sgp_atualizar_origem_pre_cadastro", desc: "Atualiza origem" },
          { name: "sgp_excluir_origem_pre_cadastro", desc: "Exclui origem" },
          { name: "sgp_listar_status_pre_cadastro", desc: "Lista status" },
          { name: "sgp_detalhes_status_pre_cadastro", desc: "Detalhes status" },
          { name: "sgp_cadastrar_status_pre_cadastro", desc: "Cadastra status" },
          { name: "sgp_atualizar_status_pre_cadastro", desc: "Atualiza status" },
          { name: "sgp_excluir_status_pre_cadastro", desc: "Exclui status" }
        ]
      },
      "Central do Assinante": {
        icon: "user",
        tools: [
          { name: "central_contratos_listar", desc: "Lista contratos do assinante" },
          { name: "central_contrato_detalhes", desc: "Detalhes do contrato" },
          { name: "central_faturas_listar", desc: "Lista faturas do assinante" },
          { name: "central_fatura_detalhes", desc: "Detalhes da fatura" },
          { name: "central_fatura_segunda_via", desc: "Gera segunda via de fatura" },
          { name: "central_chamados_listar", desc: "Lista chamados do assinante" },
          { name: "central_chamado_abrir", desc: "Abre chamado de suporte" },
          { name: "central_chamado_detalhes", desc: "Detalhes do chamado" },
          { name: "central_chamado_interagir", desc: "Interage em chamado" },
          { name: "central_planos_listar", desc: "Lista planos disponíveis" },
          { name: "central_plano_solicitar_upgrade", desc: "Solicita upgrade de plano" },
          { name: "central_consumo_consultar", desc: "Consulta consumo de dados" },
          { name: "central_perfil_consultar", desc: "Consulta perfil do assinante" },
          { name: "central_perfil_atualizar", desc: "Atualiza dados do perfil" },
          { name: "central_senha_alterar", desc: "Altera senha de acesso" }
        ]
      },
      "Outros": {
        icon: "more",
        tools: [
          { name: "sgp_listar_cidades", desc: "Lista cidades" },
          { name: "sgp_listar_estados", desc: "Lista estados" },
          { name: "sgp_consultar_cep", desc: "Consulta CEP" },
          { name: "sgp_listar_logs", desc: "Lista logs do sistema" },
          { name: "sgp_listar_notificacoes", desc: "Lista notificações" },
          { name: "sgp_marcar_notificacao_lida", desc: "Marca notificação lida" },
          { name: "sgp_marcar_todas_notificacoes_lidas", desc: "Marca todas lidas" },
          { name: "sgp_listar_configuracoes", desc: "Lista configurações" },
          { name: "sgp_obter_configuracao", desc: "Obtém configuração" },
          { name: "sgp_atualizar_configuracao", desc: "Atualiza configuração" },
          { name: "sgp_listar_relatorios", desc: "Lista relatórios" },
          { name: "sgp_gerar_relatorio", desc: "Gera relatório" }
        ]
      }
    };

    // Render tools list
    function renderToolsList() {
      const container = document.getElementById('tools-list-container');
      let html = '';
      let totalTools = 0;
      const toolSelect = document.getElementById('tool-select');

      for (const [category, data] of Object.entries(toolsData)) {
        totalTools += data.tools.length;
        html += `
          <div class="tools-category">
            <div class="category-header" onclick="toggleToolsList(this)">
              <span class="category-icon"><svg class="icon"><use href="#icon-${data.icon}"></use></svg></span>
              <span class="category-title">${category}</span>
              <span class="category-count">${data.tools.length}</span>
            </div>
            <div class="tools-list">
              ${data.tools.map(tool => `
                <div class="tool-item" onclick="selectTool('${tool.name}')">
                  <div class="tool-name">${tool.name}</div>
                  <div class="tool-desc">${tool.desc}</div>
                </div>
              `).join('')}
            </div>
          </div>
        `;

        // Add to select
        const optgroup = document.createElement('optgroup');
        optgroup.label = category;
        data.tools.forEach(tool => {
          const option = document.createElement('option');
          option.value = tool.name;
          option.textContent = tool.name;
          optgroup.appendChild(option);
        });
        toolSelect.appendChild(optgroup);
      }

      container.innerHTML = html;
      document.getElementById('tools-count').textContent = totalTools;
    }

    // Toggle tools list with animation
    function toggleToolsList(header) {
      const toolsList = header.nextElementSibling;
      toolsList.classList.toggle('open');
    }

    // Select tool
    function selectTool(name) {
      document.getElementById('tool-select').value = name;
      document.querySelector('[data-section="playground"]').click();

      // Set default params
      const defaultParams = getDefaultParams(name);
      document.getElementById('tool-params').value = JSON.stringify(defaultParams, null, 2);
    }

    function getDefaultParams(toolName) {
      const params = {
        'sgp_configurar': { sgp_url: 'https://demo.sgp.net.br/api', auth_type: 'token', token: '', app: '' },
        'sgp_consultar_cliente': { cpfcnpj: '' },
        'sgp_listar_contratos': { status: 'ativo', page: 1 },
        'sgp_listar_faturas': { status: 'aberta', page: 1 },
        'sgp_listar_chamados': { status: 'aberto', page: 1 },
        'sgp_abrir_chamado': { cliente_id: 0, categoria_id: 0, titulo: '', descricao: '' },
        'sgp_listar_ordens_servico': { status: 'pendente', page: 1 },
        'sgp_listar_onus': { status: 'online', page: 1 },
        'sgp_listar_produtos': { page: 1 },
        'sgp_listar_usuarios_radius': { status: 'ativo', page: 1 }
      };
      return params[toolName] || {};
    }

    // Configure SGP
    async function configureSGP() {
      const btn = document.getElementById('btn-configure');
      btn.innerHTML = '<span class="spinner"></span> Configurando...';
      btn.disabled = true;

      const config = {
        sgp_url: document.getElementById('sgp-url').value,
        auth_type: document.getElementById('auth-type').value
      };

      if (config.auth_type === 'token') {
        config.token = document.getElementById('sgp-token').value;
        config.app = document.getElementById('sgp-app').value;
      } else {
        config.username = document.getElementById('sgp-username').value;
        config.password = document.getElementById('sgp-password').value;
      }

      // Store config
      localStorage.setItem('sgp_config', JSON.stringify(config));

      showResponse({
        status: 'success',
        message: 'Configuração salva localmente!',
        config: { ...config, token: config.token ? '***' : undefined, password: config.password ? '***' : undefined }
      }, true);

      btn.innerHTML = 'Configurar SGP';
      btn.disabled = false;
    }

    // Execute tool
    async function executeTool() {
      const btn = document.getElementById('btn-execute');
      const tool = document.getElementById('tool-select').value;
      const paramsText = document.getElementById('tool-params').value;

      if (!tool) {
        alert('Selecione uma ferramenta');
        return;
      }

      let params = {};
      try {
        if (paramsText.trim()) {
          params = JSON.parse(paramsText);
        }
      } catch (e) {
        showResponse({ status: 'error', message: 'JSON inválido nos parâmetros' }, false);
        return;
      }

      btn.innerHTML = '<span class="spinner"></span> Executando...';
      btn.disabled = true;

      // Get stored config
      const storedConfig = localStorage.getItem('sgp_config');
      if (storedConfig && tool !== 'sgp_configurar') {
        const config = JSON.parse(storedConfig);
        params = { ...config, ...params };
      }

      try {
        // Simulate API call (in real implementation, this would call the MCP endpoint)
        const response = await fetch('/api/test', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ tool, params })
        });

        const data = await response.json();
        showResponse(data, data.status === 'success');
      } catch (error) {
        showResponse({
          status: 'info',
          message: 'Este playground é apenas para visualização.',
          note: 'Para executar as ferramentas de verdade, conecte um cliente MCP ao endpoint /sse',
          tool_called: tool,
          params_sent: params
        }, true);
      }

      btn.innerHTML = 'Executar';
      btn.disabled = false;
    }

    function showResponse(data, success) {
      const area = document.getElementById('response-area');
      area.textContent = JSON.stringify(data, null, 2);
      area.className = 'response-area ' + (success ? 'response-success' : 'response-error');
    }

    function clearResponse() {
      const area = document.getElementById('response-area');
      area.textContent = 'A resposta aparecerá aqui...';
      area.className = 'response-area';
    }

    // Load stored config
    function loadStoredConfig() {
      const stored = localStorage.getItem('sgp_config');
      if (stored) {
        const config = JSON.parse(stored);
        document.getElementById('sgp-url').value = config.sgp_url || '';
        document.getElementById('auth-type').value = config.auth_type || 'token';
        if (config.auth_type === 'basic') {
          document.getElementById('token-auth').style.display = 'none';
          document.getElementById('basic-auth').style.display = 'block';
        }
      }
    }

    // Initialize
    renderToolsList();
    loadStoredConfig();
  </script>
</body>
</html>
